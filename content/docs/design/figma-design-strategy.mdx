---
title: "Figma Design Strategy for V2 Runtime"
description: "This document defines how to structure Figma designs for documentation-first, AI-driven development."
---


This document defines how to structure Figma designs for documentation-first, AI-driven development.

---

## The Container Problem in V1

### What Happened

In V1, every field was wrapped in a **hidden container** that wasn't formally specified:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  V1: Implicit Container (not in spec)                           â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â† Container (border, shadow, padding, background)        â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚   â”‚ Label                                           â”‚    â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚   â”‚ Input                                           â”‚    â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚   â”‚ Helper Text                                     â”‚    â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Problems:**
- Container styling was controlled by `titleDisplayConfiguration`, `fillModeConfiguration`, etc.
- No formal specification of container variants
- Different platforms implemented containers differently
- No documentation of container states (hover, focus, error)

### What V2 Needs

**Explicit, documented container system:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  V2: Explicit Container Hierarchy                                â”‚
â”‚                                                                  â”‚
â”‚  FieldContainer (documented, with variants)                      â”‚
â”‚  â”œâ”€â”€ FieldWrapper (label + input + helper)                       â”‚
â”‚  â”‚   â”œâ”€â”€ Label                                                   â”‚
â”‚  â”‚   â”œâ”€â”€ InputSlot (field-specific content)                      â”‚
â”‚  â”‚   â””â”€â”€ HelperSlot (hint or error)                              â”‚
â”‚  â”‚                                                               â”‚
â”‚  SectionContainer (for groups)                                   â”‚
â”‚  â”œâ”€â”€ SectionHeader (title + expand/collapse)                     â”‚
â”‚  â””â”€â”€ SectionContent (child fields)                               â”‚
â”‚                                                                  â”‚
â”‚  RepeaterContainer (for arrays)                                  â”‚
â”‚  â”œâ”€â”€ RepeaterHeader (title + count)                              â”‚
â”‚  â”œâ”€â”€ RowContainer (per item)                                     â”‚
â”‚  â”‚   â”œâ”€â”€ RowHeader (preview fields + actions)                    â”‚
â”‚  â”‚   â””â”€â”€ RowContent (child fields)                               â”‚
â”‚  â””â”€â”€ AddRowButton                                                â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Figma Structure

### Page Organization

```
ğŸ“ Figma File: "V2 Design System"
â”‚
â”œâ”€â”€ ğŸ“„ Page: "0. Design Tokens"
â”‚   â”œâ”€â”€ Colors (primary, semantic, neutral)
â”‚   â”œâ”€â”€ Typography (scale)
â”‚   â”œâ”€â”€ Spacing (scale)
â”‚   â”œâ”€â”€ Border Radius (scale)
â”‚   â””â”€â”€ Shadows (scale)
â”‚
â”œâ”€â”€ ğŸ“„ Page: "1. Primitives"
â”‚   â”œâ”€â”€ Icons
â”‚   â”œâ”€â”€ Buttons (primary, secondary, text)
â”‚   â””â”€â”€ Badges / Tags
â”‚
â”œâ”€â”€ ğŸ“„ Page: "2. Containers"          â† THE MISSING PIECE
â”‚   â”œâ”€â”€ FieldContainer (all states)
â”‚   â”œâ”€â”€ SectionContainer (all variants)
â”‚   â””â”€â”€ RepeaterContainer (all states)
â”‚
â”œâ”€â”€ ğŸ“„ Page: "3. Field Components"
â”‚   â”œâ”€â”€ TextField (all states)
â”‚   â”œâ”€â”€ NumberField (all states)
â”‚   â”œâ”€â”€ SelectField (all states)
â”‚   â”œâ”€â”€ DateField (all states)
â”‚   â”œâ”€â”€ ... (all 15+ field types)
â”‚   â””â”€â”€ Each with variants matrix
â”‚
â”œâ”€â”€ ğŸ“„ Page: "4. Composite Components"
â”‚   â”œâ”€â”€ Form (multi-field layout)
â”‚   â”œâ”€â”€ Page (with navigation)
â”‚   â””â”€â”€ Wizard (multi-page)
â”‚
â”œâ”€â”€ ğŸ“„ Page: "5. States Matrix"
â”‚   â””â”€â”€ Every component Ã— every state = screenshot
â”‚
â””â”€â”€ ğŸ“„ Page: "6. Examples"
    â”œâ”€â”€ Simple Form
    â”œâ”€â”€ Multi-page Form
    â””â”€â”€ Complex Nested Form
```

---

## Container Specifications

### 1. FieldContainer

The wrapper around every field input.

#### Anatomy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FieldContainer                                                  â”‚
â”‚  â”œâ”€â”€ containerBorder (optional)                                  â”‚
â”‚  â”œâ”€â”€ containerBackground (optional)                              â”‚
â”‚  â”œâ”€â”€ containerShadow (optional)                                  â”‚
â”‚  â”‚                                                               â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   â”‚ Label Row                                            â”‚    â”‚
â”‚  â”‚   â”‚ â”œâ”€â”€ requiredIndicator (optional, left or right)      â”‚    â”‚
â”‚  â”‚   â”‚ â”œâ”€â”€ labelText                                        â”‚    â”‚
â”‚  â”‚   â”‚ â””â”€â”€ hintIcon (optional, triggers tooltip)            â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”‚                                                               â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   â”‚ Input Slot (field-specific component goes here)      â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”‚                                                               â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   â”‚ Helper Row                                           â”‚    â”‚
â”‚  â”‚   â”‚ â”œâ”€â”€ helperText OR errorText                          â”‚    â”‚
â”‚  â”‚   â”‚ â””â”€â”€ characterCount (optional)                        â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”‚                                                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Variants

| Variant | containerBorder | containerBackground | containerShadow | Use Case |
|---------|-----------------|---------------------|-----------------|----------|
| `flat` | none | transparent | none | Inside sections, minimal UI |
| `outlined` | 1px border | transparent | none | Standalone fields |
| `filled` | none | surface color | none | Grouped fields |
| `elevated` | none | white | shadow.sm | Card-like appearance |
| `card` | 1px border | white | shadow.md | Prominent fields |

#### States

| State | Border Color | Background | Shadow | Label Color | Other |
|-------|--------------|------------|--------|-------------|-------|
| `default` | neutral.border | transparent | none | text.secondary | - |
| `hover` | neutral.borderHover | neutral.surfaceHover | none | text.secondary | Cursor: pointer |
| `focused` | primary.default | transparent | focus ring | text.primary | - |
| `filled` | neutral.border | transparent | none | text.primary | - |
| `error` | error.default | error.surface | none | error.default | Error icon |
| `disabled` | neutral.disabled | neutral.disabled | none | text.disabled | Cursor: not-allowed |
| `readOnly` | transparent | neutral.surface | none | text.secondary | No interactions |

#### Figma Component Structure

```
Component: FieldContainer
â”œâ”€â”€ Props (Figma component properties):
â”‚   â”œâ”€â”€ variant: flat | outlined | filled | elevated | card
â”‚   â”œâ”€â”€ state: default | hover | focused | filled | error | disabled | readOnly
â”‚   â”œâ”€â”€ size: sm | md | lg
â”‚   â”œâ”€â”€ showLabel: boolean
â”‚   â”œâ”€â”€ showHelper: boolean
â”‚   â”œâ”€â”€ showRequired: boolean
â”‚   â”œâ”€â”€ labelPosition: top | left
â”‚   â””â”€â”€ helperType: hint | error | counter
â”‚
â””â”€â”€ Variants Matrix (all combinations as Figma variants):
    â”œâ”€â”€ variant=outlined, state=default, size=md
    â”œâ”€â”€ variant=outlined, state=focused, size=md
    â”œâ”€â”€ variant=outlined, state=error, size=md
    â”œâ”€â”€ ... (all combinations)
```

---

### 2. SectionContainer

Container for grouped fields (object type).

#### Anatomy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SectionContainer                                                â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ SectionHeader                                                â”‚â”‚
â”‚  â”‚ â”œâ”€â”€ expandIcon (for collapsible)                             â”‚â”‚
â”‚  â”‚ â”œâ”€â”€ sectionTitle                                             â”‚â”‚
â”‚  â”‚ â”œâ”€â”€ sectionDescription (optional)                            â”‚â”‚
â”‚  â”‚ â””â”€â”€ actionSlot (optional, for custom actions)                â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ SectionContent (children go here)                            â”‚â”‚
â”‚  â”‚                                                               â”‚â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚  â”‚   â”‚ FieldContainer                                       â”‚   â”‚â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚  â”‚   â”‚ FieldContainer                                       â”‚   â”‚â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚  â”‚   ...                                                        â”‚â”‚
â”‚  â”‚                                                               â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Variants (matching V1 layout options)

| Variant | Behavior | Visual |
|---------|----------|--------|
| `default` | Always visible, no header | Just a wrapper |
| `titled` | Header with title, always open | Title bar + content |
| `accordion` | Collapsible, one open at a time | Expand/collapse icon |
| `collapsible` | Individually collapsible | Expand/collapse icon |
| `expanded` | Collapsible, starts open | Expand/collapse icon |
| `collapsed` | Collapsible, starts closed | Expand/collapse icon |
| `card` | Card style with shadow | Rounded corners, shadow |
| `tab` | Tab navigation (special) | Horizontal tabs |
| `inline` | No visual separation | Flush with parent |

#### States

| State | Header | Content | Border |
|-------|--------|---------|--------|
| `default` | Visible | Visible | neutral.border |
| `collapsed` | Visible | Hidden | neutral.border |
| `expanded` | Visible (different icon) | Visible | neutral.border |
| `disabled` | Dimmed | Dimmed | neutral.disabled |
| `error` | Error indicator | Visible | error.default |

---

### 3. RepeaterContainer

Container for array fields (repeating sections).

#### Anatomy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RepeaterContainer                                               â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ RepeaterHeader                                               â”‚â”‚
â”‚  â”‚ â”œâ”€â”€ repeaterTitle                                            â”‚â”‚
â”‚  â”‚ â”œâ”€â”€ itemCount ("3 items" or "1 of 5")                        â”‚â”‚
â”‚  â”‚ â””â”€â”€ headerActions (optional)                                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ RowContainer [0]                                             â”‚â”‚
â”‚  â”‚ â”œâ”€â”€ RowHeader                                                â”‚â”‚
â”‚  â”‚ â”‚   â”œâ”€â”€ dragHandle (for reordering)                          â”‚â”‚
â”‚  â”‚ â”‚   â”œâ”€â”€ rowPreview (keysForRowHeader fields)                 â”‚â”‚
â”‚  â”‚ â”‚   â”œâ”€â”€ expandIcon (for collapsible)                         â”‚â”‚
â”‚  â”‚ â”‚   â””â”€â”€ rowActions (delete, duplicate)                       â”‚â”‚
â”‚  â”‚ â””â”€â”€ RowContent (child fields)                                â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ RowContainer [1]                                             â”‚â”‚
â”‚  â”‚ â””â”€â”€ ...                                                      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ AddRowButton                                                 â”‚â”‚
â”‚  â”‚ â”œâ”€â”€ addIcon                                                  â”‚â”‚
â”‚  â”‚ â””â”€â”€ label (from newRowLabel)                                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ValidationMessage (minRows/maxRows errors)                   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Variants

| Variant | Row Display | Use Case |
|---------|-------------|----------|
| `list` | Vertical list of cards | Default |
| `accordion` | Collapsible rows | Space-saving |
| `table` | Table layout (webLayout) | Data grids |
| `card` | Cards in grid/flex | Visual items |
| `inline` | Minimal, inline | Simple lists |

#### Row States

| State | Visual | Actions Available |
|-------|--------|-------------------|
| `default` | Normal | Edit, delete, duplicate |
| `collapsed` | Header only | Expand, delete |
| `expanded` | Full content | Collapse, delete |
| `editing` | Edit mode | Save, cancel |
| `dragging` | Being reordered | Drop targets shown |
| `error` | Error indicator | View errors |
| `disabled` | Dimmed | None |
| `deleting` | Confirmation | Confirm, cancel |

---

## Design Token Integration

### Tokens Studio Structure

```json
{
  "colors": {
    "primary": {
      "default": { "value": "#0066FF", "type": "color" },
      "light": { "value": "#E6F0FF", "type": "color" },
      "dark": { "value": "#0052CC", "type": "color" }
    },
    "semantic": {
      "error": { "value": "#DC3545", "type": "color" },
      "warning": { "value": "#FFC107", "type": "color" },
      "success": { "value": "#28A745", "type": "color" }
    },
    "neutral": {
      "background": { "value": "#FFFFFF", "type": "color" },
      "surface": { "value": "#F8F9FA", "type": "color" },
      "border": { "value": "#DEE2E6", "type": "color" },
      "borderHover": { "value": "#ADB5BD", "type": "color" },
      "disabled": { "value": "#E9ECEF", "type": "color" }
    },
    "text": {
      "primary": { "value": "#212529", "type": "color" },
      "secondary": { "value": "#6C757D", "type": "color" },
      "disabled": { "value": "#ADB5BD", "type": "color" }
    }
  },
  "spacing": {
    "xs": { "value": "4", "type": "spacing" },
    "sm": { "value": "8", "type": "spacing" },
    "md": { "value": "16", "type": "spacing" },
    "lg": { "value": "24", "type": "spacing" },
    "xl": { "value": "32", "type": "spacing" }
  },
  "borderRadius": {
    "sm": { "value": "4", "type": "borderRadius" },
    "md": { "value": "8", "type": "borderRadius" },
    "lg": { "value": "12", "type": "borderRadius" }
  },
  "shadows": {
    "sm": { "value": "0 1px 2px rgba(0,0,0,0.05)", "type": "boxShadow" },
    "md": { "value": "0 4px 6px rgba(0,0,0,0.1)", "type": "boxShadow" },
    "focus": { "value": "0 0 0 3px rgba(0,102,255,0.25)", "type": "boxShadow" }
  },
  "container": {
    "field": {
      "padding": { "value": "{spacing.md}", "type": "spacing" },
      "borderWidth": { "value": "1", "type": "borderWidth" },
      "gap": { "value": "{spacing.xs}", "type": "spacing" }
    },
    "section": {
      "padding": { "value": "{spacing.lg}", "type": "spacing" },
      "headerHeight": { "value": "48", "type": "sizing" },
      "gap": { "value": "{spacing.md}", "type": "spacing" }
    },
    "repeater": {
      "rowGap": { "value": "{spacing.sm}", "type": "spacing" },
      "rowPadding": { "value": "{spacing.md}", "type": "spacing" }
    }
  }
}
```

### Exporting from Figma

1. **Install Tokens Studio** plugin
2. **Define tokens** matching the structure above
3. **Apply to components** using token references
4. **Export as JSON** â†’ `documentation/design/tokens.json`
5. **Transform with Style Dictionary** â†’ Compose/SwiftUI code

---

## States Matrix (Critical for AI)

Every component needs a complete states matrix documented:

### TextField States Matrix

| # | variant | state | size | required | hasError | hasHelper | Screenshot |
|---|---------|-------|------|----------|----------|-----------|------------|
| 1 | outlined | default | md | false | false | false | `text-field-001.png` |
| 2 | outlined | default | md | true | false | false | `text-field-002.png` |
| 3 | outlined | focused | md | false | false | false | `text-field-003.png` |
| 4 | outlined | filled | md | false | false | false | `text-field-004.png` |
| 5 | outlined | error | md | false | true | true | `text-field-005.png` |
| 6 | outlined | disabled | md | false | false | false | `text-field-006.png` |
| 7 | outlined | readOnly | md | false | false | false | `text-field-007.png` |
| ... | ... | ... | ... | ... | ... | ... | ... |

**Export all variants as PNG** â†’ `documentation/design/screenshots/fields/`

---

## Figma-to-Documentation Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1: Design in Figma                                        â”‚
â”‚                                                                  â”‚
â”‚  â€¢ Create component with variants                                â”‚
â”‚  â€¢ Apply design tokens                                           â”‚
â”‚  â€¢ Document all states                                           â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 2: Export from Figma                                      â”‚
â”‚                                                                  â”‚
â”‚  â€¢ Tokens Studio â†’ tokens.json                                  â”‚
â”‚  â€¢ Screenshots of each state â†’ screenshots/                     â”‚
â”‚  â€¢ Component specs â†’ component-name.figma.json (optional)       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 3: Create Specification YAML                              â”‚
â”‚                                                                  â”‚
â”‚  â€¢ Combine: tokens + behavior + visual into YAML spec           â”‚
â”‚  â€¢ Reference screenshots                                         â”‚
â”‚  â€¢ Add test cases                                                â”‚
â”‚                                                                  â”‚
â”‚  Example: documentation/design/components/text-field.yaml       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 4: AI Generates Code                                      â”‚
â”‚                                                                  â”‚
â”‚  AI reads:                                                       â”‚
â”‚  â€¢ tokens.json (styling)                                         â”‚
â”‚  â€¢ text-field.yaml (spec)                                        â”‚
â”‚  â€¢ screenshots (visual reference)                                â”‚
â”‚                                                                  â”‚
â”‚  AI generates:                                                   â”‚
â”‚  â€¢ TextField.kt (Compose Multiplatform)                          â”‚
â”‚  â€¢ FieldContainer.kt (shared container)                          â”‚
â”‚  â€¢ Tests                                                         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component YAML Spec Format

Example for TextField with container:

```yaml
# documentation/design/components/text-field.yaml
name: TextField
description: Single-line text input field

# Reference to Figma
figma:
  file: "V2 Design System"
  page: "3. Field Components"
  component: "TextField"

# Container configuration
container:
  component: FieldContainer
  defaultVariant: outlined
  allowedVariants:
    - flat
    - outlined
    - filled
    - elevated
    - card

# Field-specific anatomy (inside container's InputSlot)
anatomy:
  - inputBackground
  - inputBorder
  - inputText
  - placeholder
  - prefix (optional)
  - suffix (optional)
  - clearButton (optional)

# Variants
variants:
  inputType:
    - text
    - password
    - search
  size:
    - sm: { inputHeight: 32, fontSize: 14 }
    - md: { inputHeight: 40, fontSize: 16 }
    - lg: { inputHeight: 48, fontSize: 18 }

# States (combines with container states)
states:
  default:
    inputBorder: colors.neutral.border
    inputBackground: colors.neutral.background
  focused:
    inputBorder: colors.primary.default
    inputBackground: colors.neutral.background
  filled:
    inputBorder: colors.neutral.border
    inputBackground: colors.neutral.background
  error:
    inputBorder: colors.semantic.error
    inputBackground: colors.semantic.errorLight
  disabled:
    inputBackground: colors.neutral.disabled
    inputText: colors.text.disabled

# Screenshots (exported from Figma)
screenshots:
  - id: default-empty
    file: screenshots/fields/text-field/default-empty.png
    props: { variant: outlined, state: default, value: "" }
  - id: focused
    file: screenshots/fields/text-field/focused.png
    props: { variant: outlined, state: focused }
  - id: filled
    file: screenshots/fields/text-field/filled.png
    props: { variant: outlined, state: filled, value: "John Doe" }
  - id: error
    file: screenshots/fields/text-field/error.png
    props: { variant: outlined, state: error, error: "This field is required" }
  - id: disabled
    file: screenshots/fields/text-field/disabled.png
    props: { variant: outlined, state: disabled, value: "Locked" }
  - id: with-prefix
    file: screenshots/fields/text-field/with-prefix.png
    props: { prefix: "$" }
  - id: password
    file: screenshots/fields/text-field/password.png
    props: { inputType: password, value: "secret" }

# Behavior reference
behavior:
  stateMachine: documentation/behavior/state-machines/text-field.yaml
  
# Test cases reference
tests:
  unit: documentation/tests/unit/text-field.yaml
  visual: documentation/tests/golden/text-field.yaml
```

---

## Questions for Your Team

Before finalizing this strategy, clarify:

### 1. Container Styling in V1

```
ğŸ”´ QUESTION: In V1, what properties control the FieldContainer?
   
   a) titleDisplayConfiguration - what does it configure?
   b) fillModeConfiguration - what does it configure?
   c) viewModeConfiguration - what does it configure?
   d) Are there other hidden container properties?
```

### 2. Section Container Variants

```
ğŸ”´ QUESTION: For section layout variants, what are the exact visual differences?
   
   a) accordion vs collapsible - same or different?
   b) expanded vs collapsed - just initial state?
   c) card - does it have shadow? border?
   d) tab - horizontal only? how does it work on mobile?
```

### 3. Repeater Row Styling

```
ğŸ”´ QUESTION: For array/repeater rows:
   
   a) What controls row header appearance (keysForRowHeader)?
   b) Can rows have different styles (first/last/alternate)?
   c) How does drag-to-reorder work?
   d) What's the delete confirmation UX?
```

### 4. Platform Differences

```
ğŸ”´ QUESTION: Are containers styled differently per platform?
   
   a) Android vs iOS visual differences?
   b) Web-specific styling (webLayout)?
   c) Should V2 enforce consistency or allow platform variation?
```

---

## Recommended Next Steps

### Week 1: Foundation

1. **Create Figma file** with page structure above
2. **Install Tokens Studio** and define tokens
3. **Design FieldContainer** with all variants/states
4. **Export**: tokens.json + screenshots

### Week 2: Core Components

5. **Design TextField** (most common)
6. **Design SectionContainer** (all variants)
7. **Design RepeaterContainer** (all states)
8. **Create YAML specs** for each

### Week 3: Validation

9. **AI generates code** from specs
10. **Visual comparison** with Figma
11. **Iterate** on specs where AI got it wrong
12. **Document learnings**

### Week 4: Scale

13. **Apply pattern** to remaining field types
14. **Complete states matrix** for all components
15. **Export final design system**

---

## Deliverables Checklist

| Deliverable | Format | Location |
|-------------|--------|----------|
| Design Tokens | JSON | `documentation/design/tokens.json` |
| Component Specs | YAML | `documentation/design/components/*.yaml` |
| Screenshots | PNG | `documentation/design/screenshots/` |
| States Matrix | CSV/YAML | `documentation/design/states-matrix.yaml` |
| Behavior Specs | YAML | `documentation/behavior/state-machines/` |
| Test Cases | YAML | `documentation/tests/unit/` |

















